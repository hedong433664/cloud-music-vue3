import{a8 as y,r as f,w as _,v,q as d,ai as q,an as k,$ as w,a9 as h,ao as S,ap as C,n as b,z as i,A as m}from"./index-DeY7Z7hI.js";import{E as U,a as L}from"./tab-pane-PqflDKKA.js";import"./index-BlGJXSWm.js";const g={__name:"Song",setup(p){const t=y(),r=f(null),o=f({keywords:t.query.keywords,limit:30,offset:0});async function e(){const{result:n}=await k({keywords:t.query.keywords,limit:o.value.limit,offset:o.value.offset});return{content:n.songs,totalElements:n.songCount}}return _(t,()=>{o.value.keywords=t.query.keywords,o.value.offset=0,r.value.handleSearch()},{deep:!0}),(n,u)=>{const s=q;return d(),v(s,{ref_key:"SearchTableRef",ref:r,offset:o.value.offset,"onUpdate:offset":u[0]||(u[0]=a=>o.value.offset=a),limit:o.value.limit,"onUpdate:limit":u[1]||(u[1]=a=>o.value.limit=a),request:e},null,8,["offset","limit"])}}},R={__name:"PlayList",setup(p){const t=y(),r=w(),o=f(null),e=f({keywords:t.query.keywords,type:"1000",limit:30,offset:0});async function n(){const{result:s}=await k({keywords:t.query.keywords,type:e.value.type,limit:e.value.limit,offset:e.value.offset});return{content:s.playlists,totalElements:s.playlistCount}}function u(s){r.push(`/playListDetail/${s.id}`)}return _(t,()=>{e.value.keywords=t.query.keywords,e.value.offset=0,o.value.handleSearch()},{deep:!0}),(s,a)=>{const c=h;return d(),v(c,{ref_key:"SearchCardListRef",ref:o,offset:e.value.offset,"onUpdate:offset":a[0]||(a[0]=l=>e.value.offset=l),limit:e.value.limit,"onUpdate:limit":a[1]||(a[1]=l=>e.value.limit=l),request:n,"name-key":"name",onItemClick:u},null,8,["offset","limit"])}}},x={__name:"Singer",setup(p){const t=y(),r=w(),o=f(null),e=f({keywords:t.query.keywords,type:"100",limit:30,offset:0});async function n(){const{result:s}=await k({keywords:t.query.keywords,type:e.value.type,limit:e.value.limit,offset:e.value.offset});return{content:s.artists,totalElements:s.artistCount}}function u(s){r.push(`/userInfo/${s.accountId}`)}return _(t,()=>{e.value.keywords=t.query.keywords,e.value.offset=0,o.value.handleSearch()},{deep:!0}),(s,a)=>{const c=h;return d(),v(c,{ref_key:"SearchCardListRef",ref:o,offset:e.value.offset,"onUpdate:offset":a[0]||(a[0]=l=>e.value.offset=l),limit:e.value.limit,"onUpdate:limit":a[1]||(a[1]=l=>e.value.limit=l),request:n,"show-icon":!1,"cover-key":"img1v1Url","name-key":"name",round:"","text-align":"center",onItemClick:u},null,8,["offset","limit"])}}},$={__name:"Album",setup(p){const t=y(),r=w(),o=f(null),e=f({keywords:t.query.keywords,type:"10",limit:30,offset:0});async function n(){const{result:s}=await k({keywords:t.query.keywords,type:e.value.type,limit:e.value.limit,offset:e.value.offset});return{content:s.albums,totalElements:s.albumCount}}function u(s){r.push(`/albumDetail/${s.id}`)}return _(t,()=>{e.value.keywords=t.query.keywords,e.value.offset=0,o.value.handleSearch()},{deep:!0}),(s,a)=>{const c=h;return d(),v(c,{ref_key:"SearchCardListRef",ref:o,offset:e.value.offset,"onUpdate:offset":a[0]||(a[0]=l=>e.value.offset=l),limit:e.value.limit,"onUpdate:limit":a[1]||(a[1]=l=>e.value.limit=l),request:n,"show-icon":!1,"cover-key":"picUrl","name-key":"name",round:"","text-align":"center",onItemClick:u},null,8,["offset","limit"])}}},E={__name:"User",setup(p){const t=y(),r=w(),o=f(null),e=f({keywords:t.query.keywords,type:"1002",limit:30,offset:0});async function n(){const{result:s}=await k({keywords:t.query.keywords,type:e.value.type,limit:e.value.limit,offset:e.value.offset});return{content:s.userprofiles,totalElements:s.userprofileCount}}function u(s){r.push(`/userInfo/${s.userId}`)}return _(t,()=>{e.value.keywords=t.query.keywords,e.value.offset=0,o.value.handleSearch()},{deep:!0}),(s,a)=>{const c=h;return d(),v(c,{ref_key:"SearchCardListRef",ref:o,offset:e.value.offset,"onUpdate:offset":a[0]||(a[0]=l=>e.value.offset=l),limit:e.value.limit,"onUpdate:limit":a[1]||(a[1]=l=>e.value.limit=l),request:n,"show-icon":!1,"cover-key":"avatarUrl","name-key":"nickname",round:"","text-align":"center",onItemClick:u},null,8,["offset","limit"])}}},I={class:"search-container layout-content"},A={__name:"Search",setup(p){const t=y(),r=f("song");return S(()=>{t.query.type&&(r.value=t.query.type)}),C(()=>{r.value=t.query.type}),(o,e)=>{const n=L,u=U;return d(),b("div",I,[i(u,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),class:"tabs-view"},{default:m(()=>[i(n,{lazy:"",label:"单曲",name:"song"},{default:m(()=>[i(g)]),_:1}),i(n,{lazy:"",label:"歌单",name:"playlist"},{default:m(()=>[i(R)]),_:1}),i(n,{lazy:"",label:"歌手",name:"singer"},{default:m(()=>[i(x)]),_:1}),i(n,{lazy:"",label:"专辑",name:"album"},{default:m(()=>[i($)]),_:1}),i(n,{lazy:"",label:"用户",name:"user"},{default:m(()=>[i(E)]),_:1})]),_:1},8,["modelValue"])])}}};export{A as default};
