import{U as L,r as p,w as V,n as b,y as a,z as t,a0 as x,N as i,v as m,A as r,F as P,a8 as B,$ as A,q as u,a as k,aq as D,ar as N,X as R,L as $,M as q,a1 as z,a2 as F,V as T,as as M,ag as O,W as S,at as W}from"./index-DeY7Z7hI.js";import{E as X,a as j}from"./tab-pane-PqflDKKA.js";import"./index-BlGJXSWm.js";const G={class:"user-info_container layout-content"},H={class:"user-box"},J={class:"right-box"},K={class:"nickname"},Q={class:"level-gender"},Y={class:"level"},Z={class:"attention-fans"},aa={class:"item"},ea={class:"item"},sa={class:"signature"},oa={__name:"UserInfo",setup(ta){const f=B(),v=A(),e=p({profile:{}}),y=p([]),g=p("playlist");V(()=>f.params.uid,()=>{C(f.params.uid)},{immediate:!0});async function w(s){const l=await W({uid:s});y.value=l.playlist}async function C(s){const{startLoading:l,stopLoading:_}=T();try{l();const n=await M({uid:s});e.value=n,w(s);const c=new Image;c.src=n.profile.avatarUrl,c.crossOrigin="Anonymous",c.onload=async()=>{const d=await new O().getColor(c);S(d),document.documentElement.style.setProperty("--body-before-opacity",1)}}catch{v.back()}finally{_()}}function U(s){v.push(`/playlistDetail/${s.id}`)}return(s,l)=>{const _=x,n=P,c=F,h=z,d=R,E=j,I=X;return u(),b("div",G,[a("div",H,[t(_,{class:"avatar",src:e.value.profile.avatarUrl},null,8,["src"]),a("div",J,[a("h3",K,i(e.value.profile.nickname),1),a("div",Q,[a("span",Y," LV."+i(e.value.level),1),e.value.profile.gender===1?(u(),m(n,{key:0,color:"#32a9fc"},{default:r(()=>[t(k(D))]),_:1})):(u(),m(n,{key:1,color:"#fca7ea"},{default:r(()=>[t(k(N))]),_:1}))]),a("div",Z,[a("span",aa,"关注 "+i(e.value.profile.follows),1),a("span",ea,"粉丝 "+i(e.value.profile.followeds),1)]),a("div",sa," 简介："+i(e.value.profile.signature),1)])]),t(I,{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=o=>g.value=o),class:"tabs-view"},{default:r(()=>[t(E,{lazy:"",label:"歌单",name:"playlist"},{default:r(()=>[t(d,{gutter:30},{default:r(()=>[(u(!0),b($,null,q(y.value,o=>(u(),m(h,{key:o.id,span:4},{default:r(()=>[t(c,{"cover-url":o.coverImgUrl,"play-count":o.playCount,name:o.name,onClick:la=>U(o)},null,8,["cover-url","play-count","name","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},ia=L(oa,[["__scopeId","data-v-b3a54afb"]]);export{ia as default};
